# Лабораторная работа 3 - Базовые растровые алгоритмы

## Цель работы
Закрепление теоретического материала и практическое освоение основных возможностей по использованию базовых алгоритмов растеризации отрезков и кривых.

## Задачи
- Создание пользовательского интерефейса для визуализации базовых алгоритмов растеризации отрезков и кривых.
- Реализовать пошаговый алгоритм.
- Реализовать алгоритм ЦДА.
- Реализовать алгоритм Брезенхема.
- Реализовать алгоритм Брезенхема для окружности.

## Инструментарий
Код программы написан на языке Java с использованием Swing.

## Ход работы
1. Создание класса `Main`, который наследует `JFrame` для создания графического интерфейса.
2. Импорт библиотек.
3. Создание панели для рисования и добавление текстовой области для логов и кнопок для выбора алгоритмов с текстовыми полями в конструкторе `Main`.
4. Изменение метода отрисовки в canvas внутри `Main`.
5. Создание методов отрисовки сетки и координатных линий `drawGrid` и `drawAxis`.
6. Создание `ActionListener` для кнопки "draw", чтобы обрабатывать нажатия и инициировать рисование.
7. Создание метода `rasterizeShape` для выбора и применения алгоритмов в соответствии с выбранным алгоритмом.
8. Реализация методов для каждого алгоритма:
    - `stepbystep(Graphics g, int x0, int y0, int x1, int y1)`
    - `dda(Graphics g, int x0, int y0, int x1, int y1)`
    - `bresenham(Graphics g, int x0, int y0, int x1, int y1)`
    - `circle(Graphics g, int xc, int yc, int r)`
9. Добавление логирования сообщений при помощи отдельного поля на экране `logArea`.
    # Алгоритмы растеризации отрезков

## 1. Алгоритм пошагового растеризатора (Step-by-Step)

### Описание:
Этот алгоритм рисует отрезок, проходя по его координатам по одному пикселю за раз. Он основывается на линейном уравнении отрезка и вычисляет точку для каждого шага.

### Как работает:
1. Алгоритм использует разницу между конечной и начальной точками отрезка, называемую `dx` и `dy` — изменениями по осям X и Y соответственно.
2. Если изменение по оси X больше, чем по оси Y (то есть `dx > dy`), то алгоритм будет двигаться вдоль оси X и вычислять значения для оси Y по наклону отрезка по формуле:
   \[
   y = y_0 + \frac{dy}{dx} \cdot (x - x_0)
   \]
3. В противном случае (если `dy > dx`), алгоритм будет двигаться вдоль оси Y и вычислять значения для оси X.
4. Каждый шаг алгоритма отрисовывает один пиксель, вычисляя новые координаты в зависимости от наклона.

## 2. Алгоритм DDA (Digital Differential Analyzer)

### Описание:
DDA — это более быстрый и эффективный метод для растеризации отрезков. Он использует дифференциальные уравнения для вычисления точек на отрезке. В отличие от пошагового алгоритма, DDA вычисляет инкременты для каждой координаты (X и Y) и использует их для рисования пикселей.

### Как работает:
1. Алгоритм вычисляет инкременты для каждой оси (X и Y) на основе разницы между конечными и начальными координатами:
   \[
   \text{incr}_x = \frac{dx}{steps}, \quad \text{incr}_y = \frac{dy}{steps}
   \]
   где `dx` и `dy` — это разности координат конечной и начальной точки отрезка, а `steps` — это максимальное из значений `|dx|` или `|dy|`.
2. В цикле алгоритм итеративно рисует пиксели, добавляя инкременты к текущим координатам `(x, y)` и отрисовывая их.

## 3. Алгоритм Брезенхема для отрезков

### Описание:
Алгоритм Брезенхема — это эффективный метод для растеризации отрезков, который использует целочисленные вычисления для минимизации ошибок округления. Это делает его быстрым и точным, подходящим для работы с графикой.

### Как работает:
1. Вместо работы с числами с плавающей запятой, как в DDA, Брезенхем использует только целочисленные операции, что ускоряет процесс вычислений.
2. В алгоритме вычисляется ошибка округления в процессе определения следующего пикселя. Это делается с помощью переменной ошибки (`err`), которая отслеживает отклонение от идеального пути.
3. Алгоритм проверяет, в какую сторону нужно двигаться (по оси X или Y), и корректирует координаты, чтобы минимизировать ошибку.
4. Процесс продолжается до тех пор, пока не будет достигнута конечная точка.

## Временные характеристики

Для отрезка с координатами:
x0 = 5, y0 = 0, x1 = 20, y1 = 17

Время работы алгоритмов:
| Алгоритм       | Время работы |
|----------------|--------------|
| step-by-step   | 12.6472 ms   |
| dda            | 10.2448 ms   |
| bresenham      | 6.8574 ms    |

Можно видеть, что пошаговый алгоритм и алгоритм Брезенхема почти не отличаются по времени работы.

Для окружности с параметрами:
- x0 = 0, y0 = 0, R = 75

Время работы алгоритма Брезенхема:
- `circle bresenham execution time: 1.0087 ms`

## Вывод
В ходе выполнения данной работы я:
- создала приложение, позволяющее проводить растеризацию отрезков и кривых базовыми алгоритмами,
- закрепила полученные лекционные знания по различным алгоритмам растеризации,
- получила дополнительный опыт по проектированию приложений,
- углубила знания Java Swing, а также языка Java,
- получила дополнительный опыт работы с системой контроля версий Git.
